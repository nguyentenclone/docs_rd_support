**2.** **Báo cáo & Thống kê**

Từ màn hình chính của chatbot, bạn có thể click vào menu Báo cáo để xem số liệu thống kê chi tiết về số lượng user tương tác với từng bot hoặc cả dự án.

![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586520_baocao.png)

Các nội dung được thống kê sẽ hiển thị như sau:

![enter image description here](https://static8.muarecdn.com/original/muare/images/2019/12/20/5424710_128.png)

![enter image description here](https://static8.muarecdn.com/original/muare/images/2019/12/20/5424711_129.png)

![enter image description here](https://static8.muarecdn.com/original/muare/images/2019/12/20/5424712_130.png)

![enter image description here](https://static8.muarecdn.com/original/muare/images/2019/12/20/5424715_131.png)

![enter image description here](https://static8.muarecdn.com/original/muare/images/2019/12/20/5424717_132.png)

![enter image description here](https://static8.muarecdn.com/original/muare/images/2019/12/20/5424719_133.png)

### I. **Thống kê tổng quan**
#### 1. Tổng số người dùng
- Tổng số người dùng trong thời gian thống kê
- Mặc định ban đầu là tổng số người dùng của tất cả các fanpage trong project 
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586544_tongsonguoidung.jpg)

#### 2. Người dùng mới
- Người dùng mới là người dùng tương tác lần đầu với fanpage
- Tổng số người dùng mới trong thời gian thống kê
- Mặc định ban đầu là tổng số người dùng mới của tất cả các fanpage trong project 
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586555_songuoidungmoi.jpg)

#### 3. Người dùng hằng ngày
- Là trung bình số người dùng tương tác với fanpage
- Tính bằng **Tổng số người dùng tương tác với fanpage** / **Tổng số ngày trong thời gian thống kê**
- Mặc định ban đầu là tổng số người dùng hằng ngày của tất cả các fanpage trong project 
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586556_songuoidunghangngay.jpg)

#### 4. Số điện thoại mới
- Tổng số điện thoại được người dùng cung cấp trong thời gian thống kê
- Mặc định ban đầu là tổng số điện thoại của tất cả các fanpage trong project 
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586559_sodienthoaimoi.jpg)

#### 5. Số email mới
- Tổng số email mà người dùng cung cấp trong thời gian thống kê
- Mặc định ban đầu là tổng số email của tất cả các fanpage trong project 
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586566_soemailmoi.jpg)

#### 6. Biểu đồ số người dùng mới
- Liệt kê số người dùng mới theo ngày trong thời gian thống kê
- Mặc định ban đầu là tổng số người dùng mới của tất cả các fanpage trong project 
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586565_bieudosonguoidungmoi.jpg)

#### 7. Biểu đồ tổng số tin nhắn
- Liệt kê số tin nhắn mỗi ngày trong thời gian thống kê
- Mặc định ban đầu là tổng số tin nhắn của tất cả các fanpage trong project
- Số liệu được tính tổng từ bảng **Thống kê chi tiết theo giờ**, cột **Số tin nhắn** 
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586574_bieudotongsotinnhan.jpg)

#### 8. Biểu đồ tổng số bình luận
- Liệt kê số bình luận mỗi ngày trong thời gian thống kê
- Mặc định ban đầu là tổng số bình luận của tất cả các fanpage trong project
- Số liệu được tính tổng từ bảng **Thống kê chi tiết theo giờ**, cột **Số bình luận**  
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586576_bieudotongsobinhluan.jpg)

#### 9. Biểu đồ số tin nhắn theo khung giờ
- Liệt kê số tin nhắn theo các khoảng thời gian trong ngày
- Biểu đồ được chia thành 5 khoảng thời gian:
    * 2h - 5h
    * 6h - 9h
    * 10h - 13h
    * 14h - 17h
    * 18h - 20h
    * 21h - 22h
    * 23h - 1h
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586590_bieudosotinnhantheokhunggio.jpg)

#### 10. Biểu đồ số bình luận theo khung giờ
- Liệt kê số bình luận theo các khoảng thời gian trong ngày
- Biểu đồ được chia thành 5 khoảng thời gian:
    * 2h - 5h
    * 6h - 9h
    * 10h - 13h
    * 14h - 17h
    * 18h - 20h
    * 21h - 22h
    * 23h - 1h
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586596_bieudosobinhluantheokhunggio.jpg)

#### 11. Biểu đồ tổng số khách hàng nhắn tin
- Biểu diễn số khách hàng nhắn tin trong một khoảng thời gian
- Số khách hàng bao gồm khách hàng cũ (xanh nước biển) và khách hàng mới (xanh lá cây)
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586597_bieudotongsokhachhangnhantin.jpg)

#### 12. Biểu đồ tổng số khách hàng bình luận
- Biểu diễn số khách hàng bình luận trong một khoảng thời gian
- Số khách hàng bao gồm khách hàng cũ (xanh nước biển) và khách hàng mới (xanh lá cây)
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586598_bieudotongsokhachhangbinhluan.jpg)

#### 13. Biểu đồ tổng số email mới
- Biểu diễn tổng số email của khách hàng cung cấp
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586599_bieudotongsoemailmoi.jpg)

#### 14. Biểu đồ tổng số điện thoại
- Biểu diễn tổng số điện thoại của khách hàng cung cấp
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586603_bieudotongsosdtmoi.jpg)

#### 15. Biểu đồ thống kê theo tag
- Biểu diễn tỷ lệ các tag được gán cho khách hàng trong chatbox
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586611_bieudotag.jpg)

#### 16. Biểu đồ thống kê theo nhãn
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586612_bieudolabel.jpg)

#### 17. Bảng thống kê chi tiết theo giờ
- Thống kê chi tiết các số liệu được hiển thị ở những biểu đồ bên trên, bao gôm các cột:
    * Số tin nhắn
    * Số bình luận
    * Số tin nhắn của khách hàng
    * Số bình luận của khách hàng
    * Số khách hàng nhắn tin
    * Số khách hàng bình luận
    * Số khách hàng nhắn tin mới
    * Số khách hàng bình luận mới
    * Số khách hàng nhắn tin lại = Số khách hàng nhắn tin - Số khách hàng nhắn tin mới
    * Số khách hàng bình luận lại = Số khách hàng bình luận - Số khách hàng bình luận mới
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586613_thongkechitiettheogio.jpg)

### II. **Thống kê theo nhân viên**

#### 18. Biểu đồ số hội thoại theo nhân viên
- Biểu diễn số lần chăn sóc khách hàng của nhân viên hỗ trợ (bao gồm bình luận và nhắn tin)
- Biểu đồ miền thể hiện các nhân viên hỗ trợ trong dự án, mỗi nhân viên được đặc trưng bởi một màu
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586614_bieudosohoithoaitheonhanvien.jpg)

#### 19. Bảng số tin nhắn theo nhân viên, thời gian phản hồi trung bình
- Biểu diễn số tin nhắn theo từng nhân viên (chỉ tính khi nhắn tin phản hồi khách hàng qua Boxchat của Bizfly)
- Nếu không có nhân viên nào đã từng nhắn tin, hiển thị *Chưa có dữ liệu nhắn tin cua nhân viên*
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586615_bieudosotntheonhanvien.jpg)

#### 20. Bảng số bình luận theo nhân viên, thời gian phản hồi trung bình
- Biểu diễn số bình luận theo từng nhân viên (chỉ tính khi bình luận phản hồi khách hàng qua Boxchat của Bizfly)
- Nếu không có nhân viên nào đã từng bình luận, hiển thị *Chưa có dữ liệu bình luận cua nhân viên*
   
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586616_bieudosobltheonhanvien.jpg)

#### 21. Cách tính thời gian phản hồi trung bình
- Áp dụng cho cả tin nhắn và bình luận

B1: tìm các cặp tin nhắn giữa khách và nhân viên

```
/* username + fanpage + project => room mà support tham gia
* từ các room này lấy ra message hoặc comment tương ứng
* tính thời gian phản hồi trung bình trong room:
* giả sử thời gian nhắn tin của Guest (G) và Support (S) như sau:
* tG: 1
* tS: 2
* tS: 3
* tG: 4
* tS: 5
* tS: 6
* time_avg_room = ((t2-t1) + (t5 - t4))/2 = tổng khoảng cách thời gian giữa tin nhắn gần nhất của Support
* trả lời khách / tổng số cặp khoảng cách
* tính thời gian phản hồi trung bình của support: tổng time_avg_room / tổng số room support tham gia
* */
```

B2: trong các cặp tin nhắn G - S, tính khoảng cách thời gian **rs** (trong khoảng thời gian support làm việc quy định trên chatbox , hiện tại đang là 9-18h)
+ Sử dụng momentJS, tìm khoảng cách theo ngày giữa tS và tG
+ Chia thành các TH:
* TH1: support trả lời khách trong ngày
++ khách nhắn tin trong khoảng 9-18h hoặc hơn 18h: rs = tS - tG
++ khách nhắn tin trước 9h: rs = tS - tG (lúc 9h)
* TH2: khách nhắn tin và ngày hôm sau support trả lời: rs = rsTG + rsTS
++ khách nhắn trong khung 9-18h: rsTG = tG lúc 18h - tG
++ khách nhắn trước 9h: rsTG = tG lúc 18h - tG lúc 9h
++ khách nhắn sau 18h và support trả lời trước 9h ngày hôm sau: rsTG = tS - tG
++ support trả lời trong 9-18h: rsTS = tS - tS lúc 9h
++ support trả lời trước 9h: rsTS = 0
++ support trả lời sau 18h: rsTS = tS - tS lúc 9h
* TH3: khách nhắn tin và quá 2 ngày support mới trả lời (gọi là  n ngày)
rs = (khoảng thời gian từ 9-18h tính ra phút ) * n

#### 22. Bảng thống kê chi tiết theo nhân viên
- Thống kê những khách hàng mà từng nhân viên chăm sóc được
- Bao gồm các thông tin:
    * Số khách hàng
    * Số khách hàng mới
    * Số khách hàng cũ
    * Số khách hàng đã xử lý
  
![enter image description here](https://static8.muarecdn.com/original/muare/images/2020/05/02/5586621_thongkechitiettheonhanvien.jpg)








